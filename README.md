# picgo-plugin-lskypro-own

[![npm version](https://img.shields.io/npm/v/picgo-plugin-lskypro-own.svg?color=brightgreen)](https://www.npmjs.com/package/picgo-plugin-lskypro-own)
[![downloads](https://img.shields.io/npm/dm/picgo-plugin-lskypro-own.svg?color=brightgreen)](https://npmcharts.com/compare/picgo-plugin-lskypro-own?minimal=true)
[![license](https://img.shields.io/badge/license-MIT-brightgreen.svg)](https://github.com/lemodragon/Picgo-Plugin-Lskypro/blob/main/LICENSE)

**å…°ç©ºå›¾åºŠ(Lsky Pro+)ä¸Šä¼ æ’ä»¶â€”â€”æ”¯æŒV1å’ŒV2(ä»˜è´¹ç”¨æˆ·)**

[å…°ç©ºå›¾åºŠ (Lsky Pro)](https://github.com/lsky-org/lsky-pro) çš„ PicGo ä¸Šä¼ æ’ä»¶ï¼Œæ”¯æŒ V1 å’Œ V2 ç‰ˆæœ¬ã€‚

> Lsky Pro æ˜¯ä¸€ä¸ªç”¨äºåœ¨çº¿ä¸Šä¼ ã€ç®¡ç†å›¾ç‰‡çš„å›¾åºŠç¨‹åºï¼Œä¸­æ–‡åï¼šå…°ç©ºå›¾åºŠã€‚ä½ å¯ä»¥å°†å®ƒä½œä¸ºè‡ªå·±çš„äº‘ä¸Šç›¸å†Œï¼Œäº¦å¯ä»¥å½“ä½œä½ çš„å†™ä½œè´´å›¾åº“ã€‚

## âœ¨ ç‰¹æ€§

- âœ… æ”¯æŒå…°ç©ºå›¾åºŠ V1 å’Œ V2 ç‰ˆæœ¬
- âœ… **Token è‡ªåŠ¨å¤„ç†** - æ— éœ€æ‰‹åŠ¨æ·»åŠ  Bearer å‰ç¼€
- âœ… **æ™ºèƒ½é»˜è®¤é…ç½®** - Strategy ID é»˜è®¤ä¸º 1ï¼Œå¼€ç®±å³ç”¨
- âœ… æ”¯æŒè‡ªå®šä¹‰å­˜å‚¨ç­–ç•¥
- âœ… æ”¯æŒç›¸å†Œåˆ†ç±»ï¼ˆV2ï¼‰
- âœ… æ”¯æŒå›¾ç‰‡æƒé™è®¾ç½®ï¼ˆå…¬å¼€/ç§æœ‰ï¼‰
- âœ… æ”¯æŒåŒæ­¥åˆ é™¤åŠŸèƒ½ï¼ˆV2ï¼‰
- âœ… æ”¯æŒå¿½ç•¥è¯ä¹¦é”™è¯¯
- âœ… é…ç½®ç•Œé¢å‹å¥½ï¼Œæç¤ºæ¸…æ™°

## ğŸ“¦ å®‰è£…

### æ–¹æ³• 1ï¼šåœ¨çº¿å®‰è£…ï¼ˆæ¨èï¼‰

1. æ‰“å¼€ PicGo è¯¦ç»†çª—å£
2. é€‰æ‹© **æ’ä»¶è®¾ç½®**
3. æœç´¢ **lskypro-own**
4. ç‚¹å‡»å®‰è£…
5. é‡å¯ PicGo

### æ–¹æ³• 2ï¼šå‘½ä»¤è¡Œå®‰è£…

```bash
# è¿›å…¥ PicGo é…ç½®ç›®å½•
# Windows: %APPDATA%\picgo
# Linux: ~/.config/picgo
# macOS: ~/Library/Application Support/picgo

# å®‰è£…æ’ä»¶
npm install picgo-plugin-lskypro-own

# é‡å¯ PicGo
```

## ğŸ“– ä½¿ç”¨æ•™ç¨‹

å®‰è£…å®Œæˆåï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤é…ç½®å’Œä½¿ç”¨æ’ä»¶ï¼š

![ä½¿ç”¨æ•™ç¨‹](./course.png)

## ğŸ”§ é…ç½®è¯´æ˜

å®‰è£…å®Œæˆåï¼Œåœ¨ PicGo çš„å›¾åºŠè®¾ç½®ä¸­é€‰æ‹© **Lsky Pro**ï¼Œç„¶åé…ç½®ä»¥ä¸‹å‚æ•°ï¼š

### é…ç½®é¡¹

| é…ç½®é¡¹ | è¯´æ˜ | å¿…å¡« | é»˜è®¤å€¼ |
|--------|------|------|--------|
| **Lsky Pro Version** | é€‰æ‹©å›¾åºŠç‰ˆæœ¬ï¼ˆV1 æˆ– V2ï¼‰ | âœ… | V2 |
| **Server URL** | å›¾åºŠæœåŠ¡å™¨åœ°å€ | âœ… | - |
| **Auth Token** | è®¤è¯ Tokenï¼ˆæ— éœ€ Bearer å‰ç¼€ï¼‰ | âœ… | - |
| **Strategy ID** | å­˜å‚¨ç­–ç•¥ IDï¼ˆV2 å¿…å¡«ï¼‰ | âŒ | 1 |
| **Album ID** | ç›¸å†Œ IDï¼ˆä»… V2ï¼‰ | âŒ | - |
| **Permission** | å›¾ç‰‡æƒé™ï¼ˆå…¬å¼€/ç§æœ‰ï¼‰ | âŒ | ç§æœ‰ |
| **Sync Delete** | åŒæ­¥åˆ é™¤ï¼ˆä»… V2ï¼‰ | âŒ | å…³é—­ |
| **Ignore Certificate Error** | å¿½ç•¥è¯ä¹¦é”™è¯¯ | âŒ | å…³é—­ |

### å¿«é€Ÿé…ç½®ç¤ºä¾‹

```yaml
Lsky Pro Version: V2
Server URL: https://img.example.com
Auth Token: 1|xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Strategy ID: 1
Permission: public
```

### é‡è¦æç¤º

#### 1. Server URL
- âœ… æ­£ç¡®ï¼š`https://img.example.com`
- âŒ é”™è¯¯ï¼š`https://img.example.com/`ï¼ˆä¸è¦ä»¥ `/` ç»“å°¾ï¼‰

#### 2. Auth Tokenï¼ˆé‡è¦ï¼ï¼‰
- **ç›´æ¥ç²˜è´´ Token å³å¯ï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ  `Bearer` å‰ç¼€**
- æ’ä»¶ä¼šè‡ªåŠ¨å¤„ç† Token æ ¼å¼
- ä¾‹å¦‚ï¼šç›´æ¥å¡«å†™ `1|xxxxxx`ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨è½¬æ¢ä¸º `Bearer 1|xxxxxx`

#### 3. Strategy ID
- **V2 ç‰ˆæœ¬å¿…å¡«**ï¼Œé»˜è®¤å€¼ä¸º `1`
- å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨é»˜è®¤å€¼å³å¯
- å¦‚éœ€ä½¿ç”¨å…¶ä»–å­˜å‚¨ç­–ç•¥ï¼Œè¯·å‚è€ƒä¸‹æ–¹"è·å– Strategy ID"éƒ¨åˆ†

## ğŸ”‘ è·å– Token

### V1 ç‰ˆæœ¬

1. ç™»å½•å…°ç©ºå›¾åºŠ
2. è¿›å…¥ **ä¸ªäººè®¾ç½®** é¡µé¢
3. å¤åˆ¶ **API Token**
4. åœ¨ PicGo ä¸­ç›´æ¥ç²˜è´´ï¼ˆæ— éœ€æ·»åŠ  Bearerï¼‰

### V2 ç‰ˆæœ¬

#### æ–¹æ³• 1ï¼šä½¿ç”¨ cURL

```bash
curl --location --request POST 'https://your.domain/api/v1/tokens' \
--form 'email="your_email@example.com"' \
--form 'password="your_password"'
```

#### æ–¹æ³• 2ï¼šä½¿ç”¨ Postman ç­‰å·¥å…·

1. è¯·æ±‚æ–¹æ³•ï¼š`POST`
2. è¯·æ±‚ URLï¼š`https://your.domain/api/v1/tokens`
3. è¯·æ±‚å¤´ï¼š`Accept: application/json`
4. è¯·æ±‚ä½“ï¼ˆform-dataï¼‰ï¼š
   - `email`: ä½ çš„é‚®ç®±
   - `password`: ä½ çš„å¯†ç 

å“åº”ç¤ºä¾‹ï¼š
```json
{
  "status": true,
  "message": "success",
  "data": {
    "token": "1|xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
  }
}
```

åœ¨ PicGo ä¸­ç›´æ¥ç²˜è´´ Token å³å¯ï¼ˆä¾‹å¦‚ï¼š`1|xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`ï¼‰

## ğŸ“‹ è·å– Strategy ID

### æ–¹æ³• 1ï¼šæµè§ˆå™¨è®¿é—®ï¼ˆæ¨èï¼‰

1. åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š`https://ä½ çš„åŸŸå/api/v1/strategies`
2. ç™»å½•åä¼šæ˜¾ç¤ºå¯ç”¨çš„å­˜å‚¨ç­–ç•¥ JSON æ•°æ®
3. æ‰¾åˆ° `"id"` å­—æ®µå¯¹åº”çš„æ•°å€¼

### æ–¹æ³• 2ï¼šä½¿ç”¨ API

```bash
curl -X GET 'https://ä½ çš„åŸŸå/api/v1/strategies' \
  -H 'Accept: application/json' \
  -H 'Authorization: Bearer {ä½ çš„Token}'
```

å“åº”ç¤ºä¾‹ï¼š
```json
{
  "status": true,
  "message": "success",
  "data": {
    "strategies": [
      {"id": 1, "name": "æœ¬åœ°å‚¨å­˜"},
      {"id": 2, "name": "é˜¿é‡Œäº‘ OSS"}
    ]
  }
}
```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### ä¸Šä¼ å›¾ç‰‡

1. é…ç½®å®Œæˆåï¼Œåœ¨ PicGo ä¸Šä¼ åŒºé€‰æ‹© **Lsky Pro** ä½œä¸ºå›¾åºŠ
2. æ‹–æ‹½å›¾ç‰‡æˆ–ç‚¹å‡»ä¸Šä¼ 
3. ä¸Šä¼ æˆåŠŸåä¼šè‡ªåŠ¨å¤åˆ¶å›¾ç‰‡é“¾æ¥

### åˆ é™¤å›¾ç‰‡ï¼ˆV2ï¼‰

1. ç¡®ä¿å·²å¼€å¯ **Sync Delete** é€‰é¡¹
2. åœ¨ PicGo ç›¸å†Œä¸­æ‰¾åˆ°è¦åˆ é™¤çš„å›¾ç‰‡
3. å³é”®é€‰æ‹©åˆ é™¤
4. å›¾åºŠä¸Šçš„æ–‡ä»¶ä¼šåŒæ­¥åˆ é™¤ï¼ˆå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿç”Ÿæ•ˆï¼‰

## ğŸ” å¸¸è§é—®é¢˜

### 1. ä¸Šä¼ å¤±è´¥ï¼šæœåŠ¡å¼‚å¸¸

**åŸå› **ï¼šV2 ç‰ˆæœ¬æœªå¡«å†™ Strategy ID æˆ–ç­–ç•¥ ID ä¸å­˜åœ¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®è®¤ Strategy ID å·²å¡«å†™ï¼ˆé»˜è®¤ä¸º `1`ï¼‰
- é€šè¿‡ä¸Šè¿°æ–¹æ³•æŸ¥çœ‹å¯ç”¨çš„ç­–ç•¥åˆ—è¡¨
- ç¡®ä¿å¡«å†™çš„ Strategy ID å­˜åœ¨äºä½ çš„è´¦å·ä¸­

### 2. Token è®¤è¯å¤±è´¥

**åŸå› **ï¼šToken æ ¼å¼é”™è¯¯æˆ–å·²è¿‡æœŸ

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®è®¤ç›´æ¥ç²˜è´´äº†åŸå§‹ Tokenï¼ˆä¸è¦æ‰‹åŠ¨æ·»åŠ  Bearerï¼‰
- é‡æ–°ç”Ÿæˆ Token å¹¶æ›´æ–°é…ç½®
- ç¡®è®¤ Token æœªè¿‡æœŸ

### 3. åˆ é™¤å›¾ç‰‡åä»ç„¶å¯ä»¥è®¿é—®

**åŸå› **ï¼šCDN ç¼“å­˜æˆ–åˆ é™¤æ“ä½œå»¶è¿Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
- åˆ é™¤æ“ä½œå¯èƒ½éœ€è¦ 2-5 åˆ†é’Ÿç”Ÿæ•ˆ
- å›¾ç‰‡ URL å¯èƒ½å›  CDN ç¼“å­˜ä»å¯è®¿é—®ï¼ˆé€šå¸¸ 24 å°æ—¶åè¿‡æœŸï¼‰
- å»ºè®®åœ¨å›¾åºŠç®¡ç†åå°ç¡®è®¤åˆ é™¤ç»“æœ

### 4. è¯ä¹¦é”™è¯¯ï¼šcertificate has expired

**åŸå› **ï¼šä½¿ç”¨äº†è¿‡æœŸçš„ SSL è¯ä¹¦

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¼€å¯ **Ignore Certificate Error** é€‰é¡¹
- æˆ–è”ç³»å›¾åºŠç®¡ç†å‘˜æ›´æ–°è¯ä¹¦

## ğŸ“š API æ–‡æ¡£

å®Œæ•´çš„ API æ–‡æ¡£è¯·å‚è€ƒï¼š[Lsky Pro API æ–‡æ¡£](https://lsky-pro.apifox.cn/api-195702140)

### ä¸»è¦æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| ä¸Šä¼ å›¾ç‰‡ | POST | `/api/v1/upload` | ä¸Šä¼ å›¾ç‰‡åˆ°å›¾åºŠ |
| åˆ é™¤å›¾ç‰‡ | DELETE | `/api/v1/images/{key}` | åˆ é™¤æŒ‡å®šå›¾ç‰‡ |
| å›¾ç‰‡åˆ—è¡¨ | GET | `/api/v1/images` | è·å–å›¾ç‰‡åˆ—è¡¨ |
| ç”¨æˆ·ä¿¡æ¯ | GET | `/api/v1/profile` | è·å–ç”¨æˆ·ä¿¡æ¯ |
| å­˜å‚¨ç­–ç•¥ | GET | `/api/v1/strategies` | è·å–å­˜å‚¨ç­–ç•¥åˆ—è¡¨ |

## ğŸ› ï¸ å¼€å‘

### ç¯å¢ƒè¦æ±‚

- Node.js >= 12.0.0
- npm >= 6.0.0

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/lemodragon/Picgo-Plugin-Lskypro.git
cd Picgo-Plugin-Lskypro

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
npm run dev

# ç¼–è¯‘
npm run build

# åœ¨ PicGo ä¸­æµ‹è¯•
# è¿›å…¥ PicGo é…ç½®ç›®å½•ï¼Œæ‰§è¡Œï¼š
npm install /path/to/picgo-plugin-lskypro
```

### é¡¹ç›®ç»“æ„

```
picgo-plugin-lskypro/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts           # ä¸»å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ interface.ts   # ç±»å‹å®šä¹‰
â”œâ”€â”€ dist/                  # ç¼–è¯‘è¾“å‡ºç›®å½•
â”œâ”€â”€ logo.png              # æ’ä»¶å›¾æ ‡
â”œâ”€â”€ package.json          # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json         # TypeScript é…ç½®
â”œâ”€â”€ README.md             # è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ changelog.md          # ç‰ˆæœ¬æ—¥å¿—
â””â”€â”€ LICENSE               # å¼€æºåè®®
```

## ğŸ“ æ›´æ–°æ—¥å¿—

æŸ¥çœ‹ [changelog.md](./changelog.md) äº†è§£ç‰ˆæœ¬æ›´æ–°å†å²ã€‚

### v1.0.0 (2026-02-27)

#### æ–°ç‰¹æ€§
- âœ… æ”¯æŒå…°ç©ºå›¾åºŠ V1 å’Œ V2 ç‰ˆæœ¬
- âœ… **Token è‡ªåŠ¨å¤„ç†**ï¼šæ— éœ€æ‰‹åŠ¨æ·»åŠ  Bearer å‰ç¼€
- âœ… **Strategy ID æ™ºèƒ½é»˜è®¤å€¼**ï¼šé»˜è®¤ä¸º 1ï¼Œå¼€ç®±å³ç”¨
- âœ… **é…ç½®ç•Œé¢ä¼˜åŒ–**ï¼šæ‰€æœ‰å­—æ®µéƒ½æœ‰æ¸…æ™°çš„ä¸­æ–‡è¯´æ˜
- âœ… æ”¯æŒè‡ªå®šä¹‰å­˜å‚¨ç­–ç•¥
- âœ… æ”¯æŒç›¸å†Œåˆ†ç±»ï¼ˆV2ï¼‰
- âœ… æ”¯æŒå›¾ç‰‡æƒé™è®¾ç½®
- âœ… æ”¯æŒåŒæ­¥åˆ é™¤åŠŸèƒ½ï¼ˆV2ï¼‰

#### æ”¹è¿›
- ä¿®å¤ä¸Šä¼ å¤±è´¥é—®é¢˜ï¼šè‡ªåŠ¨è®¾ç½®é»˜è®¤ strategy_id
- ä¼˜åŒ–åˆ é™¤æç¤ºä¿¡æ¯ï¼Œè¯´æ˜åˆ é™¤æ“ä½œå¯èƒ½å­˜åœ¨å»¶è¿Ÿ
- ç²¾ç®€é…ç½®æç¤ºæ–‡å­—ï¼Œç¡®ä¿åœ¨ç•Œé¢ä¸­å®Œæ•´æ˜¾ç¤º

## ğŸ’– èµåŠ©æ”¯æŒ

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿é€šè¿‡çˆ±å‘ç”µæ”¯æŒæˆ‘ï¼š

<div align="center">
  <img src="./afdian.jpg" alt="çˆ±å‘ç”µèµåŠ©" width="300">
</div>

ä½ çš„æ”¯æŒæ˜¯æˆ‘æŒç»­ç»´æŠ¤å’Œæ”¹è¿›é¡¹ç›®çš„åŠ¨åŠ›ï¼

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](./LICENSE) åè®®å¼€æºã€‚

## ğŸ™ è‡´è°¢

- [PicGo](https://github.com/Molunerfinn/PicGo) - ä¼˜ç§€çš„å›¾åºŠç®¡ç†å·¥å…·
- [Lsky Pro](https://github.com/lsky-org/lsky-pro) - å¼ºå¤§çš„å›¾åºŠç¨‹åº
- åŸé¡¹ç›® [picgo-plugin-lankong](https://github.com/hellodk34/picgo-plugin-lankong) æä¾›çš„åŸºç¡€ä»£ç 

## ğŸ“® è”ç³»æ–¹å¼

- æäº¤ Issueï¼š[GitHub Issues](https://github.com/lemodragon/Picgo-Plugin-Lskypro/issues)
- GitHubï¼š[@lemodragon](https://github.com/lemodragon)

---

å¦‚æœè§‰å¾—é¡¹ç›®æœ‰ç”¨ï¼Œæ¬¢è¿ç‚¹ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼
